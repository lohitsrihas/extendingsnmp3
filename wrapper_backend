#!/usr/bin/env python
from __future__ import print_function
from influxdb import InfluxDBClient
from influxdb.client import InfluxDBClientError
import datetime
import time
#from flask import jsonify
import argparse
import subprocess
import sys

oid = " ".join(sys.argv[3:])
freq_arg = sys.argv[2]
args = sys.argv[1]

mylist = ["python", "prober", args, freq_arg, "-1"]
oid = oid.split(' ')
i = 0
while i<len(oid):
	mylist.append(oid[i])
	i = i + 1

proc = subprocess.Popen(mylist, stdout=subprocess.PIPE)

while True: 
	line = proc.stdout.readline()
	sys.stdout.flush()
	if not line: break
	sys.stdout.flush()
	line = line.rstrip()
	fine = line.split(' ')
	print(line)
